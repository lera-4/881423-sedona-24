var link=document.querySelector(".button-open-form"),popup=document.querySelector(".main-booking-form"),dateArrival=popup.querySelector("[name=date-arrival]"),dateDeparture=popup.querySelector("[name=date-departure]"),bookingAdults=popup.querySelector("[name=booking-adults]"),bookingKids=popup.querySelector("[name=booking-kids]"),imageMap=document.querySelector(".image-map"),iframeMap=document.querySelector(".iframe-map"),isStorageSupport=!0,storageAdults="",storageKids="";try{storage=localStorage.getItem("bookingAdults"),storage=localStorage.getItem("bookingKids")}catch(err){isStorageSupport=!1}link.addEventListener("click",function(e){e.preventDefault(),popup.classList.toggle("booking-form-show"),storageAdults&&(bookingAdults.value=storageAdults),storageKids&&(bookingKids.value=storageKids),dateArrival.focus(),dateArrival.classList.remove("input-error"),dateDeparture.classList.remove("input-error"),bookingAdults.classList.remove("input-error"),bookingKids.classList.remove("input-error")}),link.addEventListener("keydown",function(e){13===e.keyCode&&(e.preventDefault(),popup.classList.toggle("booking-form-show"),storageAdults&&(bookingAdults.value=storageAdults),storageKids&&(bookingKids.value=storageKids),dateArrival.focus(),dateArrival.classList.remove("input-error"),dateDeparture.classList.remove("input-error"),bookingAdults.classList.remove("input-error"),bookingKids.classList.remove("input-error"))}),popup.addEventListener("submit",function(e){dateArrival.value&&dateDeparture.value&&bookingAdults.value&&bookingKids.value?(isStorageSupport&&(localStorage.setItem("bookingAdults",bookingAdults.value),localStorage.setItem("bookingKids",bookingKids.value)),dateArrival.classList.remove("input-error"),dateDeparture.classList.remove("input-error"),bookingAdults.classList.remove("input-error"),bookingKids.classList.remove("input-error")):(e.preventDefault(),dateArrival.value||dateArrival.classList.add("input-error"),dateDeparture.value||dateDeparture.classList.add("input-error"),bookingAdults.value||bookingAdults.classList.add("input-error"),bookingKids.value||bookingKids.classList.add("input-error"))}),window.addEventListener("keydown",function(e){27===e.keyCode&&(e.preventDefault(),popup.classList.contains("booking-form-show")&&popup.classList.remove("booking-form-show"))}),imageMap.classList.add("image-map-hide"),iframeMap.classList.remove("iframe-map-hide");